<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- TREE VIEW -->
    <record id="view_company_article_tree" model="ir.ui.view">
        <field name="name">company.article.tree</field>
        <field name="model">company.article</field>
        <field name="arch" type="xml">
            <tree>
                <field name="display_name"/>
                <field name="name"/>
            </tree>
        </field>
    </record>

    <!-- FORM VIEW -->
    <record id="view_company_article_form" model="ir.ui.view">
        <field name="name">company.article.form</field>
        <field name="model">company.article</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <field name="image" widget="image"/>
                        <field name="display_name"/>
                        <field name="name"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- KANBAN VIEW -->
    <record id="view_company_article_kanban" model="ir.ui.view">
        <field name="name">company.article.kanban</field>
        <field name="model">company.article</field>
        <field name="arch" type="xml">
            <kanban class="o_kanban_mobile">
                <field name="display_name"/>
                <field name="name"/>
                <field name="image"/>

                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click o_kanban_card d-flex flex-column" style="height: 100%;">
                            
                            <!-- CARD HEADER with gradient -->
                            <div class="ribbon ribbon-top-right">
                                <span class="bg-primary"></span>
                            </div>

                            <!-- IMAGE BLOCK with hover effect -->
                            <div class="o_kanban_image_wrapper p-3" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                                <div class="o_kanban_image text-center" style="position: relative;">
                                    <t t-if="record.image.raw_value">
                                        <img t-att-src="kanban_image('company.article', 'image', record.id.raw_value)"
                                            style="max-height: 120px; max-width: 120px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: transform 0.3s ease;"
                                            class="o_kanban_image_hover"/>
                                    </t>
                                    <t t-else="">
                                        <div style="width: 120px; height: 120px; background: rgba(255,255,255,0.9); border-radius: 12px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                                            <i class="fa fa-cube fa-4x" style="color: #667eea;"/>
                                        </div>
                                    </t>
                                </div>
                            </div>

                            <!-- CONTENT BLOCK -->
                            <div class="o_kanban_details p-3 flex-grow-1 d-flex flex-column">
                                <!-- Title -->
                                <div class="o_kanban_primary_text mb-2">
                                    <strong class="d-block" style="font-size: 1.1em; color: #2c3e50; font-weight: 600; line-height: 1.4;">
                                        <field name="display_name"/>
                                    </strong>
                                </div>

                                <!-- Subtitle with icon -->
                                <div class="o_kanban_tags_section mb-2 flex-grow-1">
                                    <span class="badge" style="background-color: rgba(102, 126, 234, 0.1); color: #667eea; padding: 6px 12px; border-radius: 20px; font-size: 0.85em; font-weight: 500;">
                                        <i class="fa fa-tag mr-1"/>
                                        <field name="name"/>
                                    </span>
                                </div>

                                <!-- Footer with action button -->
                                <div class="o_kanban_footer mt-auto pt-2" style="border-top: 1px solid #e0e0e0;">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <small class="text-muted">
                                            <i class="fa fa-info-circle mr-1"/>
                                            Click to view details
                                        </small>
                                        <i class="fa fa-chevron-right text-muted"/>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- Optional: Add custom CSS for hover effects -->
    <template id="kanban_article_assets" name="Kanban Article Assets">
        <xpath expr="." position="inside">
            <style>
                .o_kanban_card {
                    border-radius: 12px !important;
                    overflow: hidden;
                    box-shadow: 0 2px 8px rgba(0,0,0,0.08) !important;
                    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
                    border: 1px solid #e8e8e8 !important;
                }
                
                .o_kanban_card:hover {
                    transform: translateY(-4px) !important;
                    box-shadow: 0 8px 24px rgba(0,0,0,0.15) !important;
                }
                
                .o_kanban_image_hover:hover {
                    transform: scale(1.05) !important;
                }
                
                .o_kanban_image_wrapper {
                    transition: all 0.3s ease;
                }
                
                .o_kanban_card:hover .o_kanban_image_wrapper {
                    background: linear-gradient(135deg, #764ba2 0%, #667eea 100%) !important;
                }
                
                .ribbon {
                    width: 150px;
                    height: 150px;
                    overflow: hidden;
                    position: absolute;
                }
                
                .ribbon-top-right {
                    top: -10px;
                    right: -10px;
                }
                
                .ribbon span {
                    position: absolute;
                    display: block;
                    width: 225px;
                    padding: 8px 0;
                    box-shadow: 0 5px 10px rgba(0,0,0,.1);
                    color: #fff;
                    text-shadow: 0 1px 1px rgba(0,0,0,.2);
                    text-align: center;
                    opacity: 0.8;
                }
                
                .ribbon-top-right span {
                    right: -25px;
                    top: 30px;
                    transform: rotate(45deg);
                }
            </style>
        </xpath>
    </template>

    <!-- ACTION -->
    <record id="action_company_article" model="ir.actions.act_window">
        <field name="name">Articles</field>
        <field name="res_model">company.article</field>
        <field name="view_mode">kanban,form,tree</field>
    </record>

    <!-- MENU -->
    <menuitem id="menu_company_data_root" name="Données de société"/>
    <menuitem id="menu_company_article"
              name="Articles"
              parent="menu_company_data_root"
              action="action_company_article"/>

</odoo>
